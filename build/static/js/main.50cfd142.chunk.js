(this["webpackJsonpnasa-app"]=this["webpackJsonpnasa-app"]||[]).push([[0],{121:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a.n(c),i=a(19),s=a.n(i),o=(a(87),a(88),a(9)),l=a(28),u=a(151),j=a(152),d=a(153),b=a(49),h=a(161),p=a(149),f=a(21),x=a(73),O=a.n(x),g=a(162),m=a(72),v=a.n(m),w=a(47),k=a.n(w),y=a(8),S=a(20),N=Object(p.a)((function(e){return{links:{marginRight:e.spacing(2),color:"white"},link_active:{display:"flex",color:"white",textDecoration:"none",fontWeight:"bold"},link_inactive:{display:"flex",color:"#c8c3c3",textDecoration:"none",fontWeight:"normal"},icon:{marginRight:e.spacing(.5),width:20,height:20}}}));function _(){var e=N(),t=Object(y.g)();return Object(n.jsxs)(g.a,{separator:"/","aria-label":"breadcrumb",className:e.links,children:[Object(n.jsxs)(S.b,{to:"/",className:"/"===t.pathname?e.link_active:e.link_inactive,children:[Object(n.jsx)(v.a,{className:e.icon}),"Home"]}),Object(n.jsxs)(S.b,{to:"/favorites",className:"/favorites"===t.pathname?e.link_active:e.link_inactive,children:[Object(n.jsx)(k.a,{className:e.icon}),"Favorites"]})]})}var C=Object(p.a)((function(e){var t;return{root:{"& .MuiPaper-root":{backgroundColor:"#2a4251 !important",boxShadow:"5px 5px 5px 0px rgba(0,0,0,0.75)"},flexGrow:1},title:(t={flexGrow:1,display:"none"},Object(l.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(l.a)(t,"fontWeight","bold"),Object(l.a)(t,"fontFamily","'Acme', sans-serif"),t),search:Object(l.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(f.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(f.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(l.a)({padding:e.spacing(1,1,1,0),paddingLeft:"1em",transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function F(){var e=C(),t=Object(y.f)(),a=Object(c.useState)(""),r=Object(o.a)(a,2),i=r[0],s=r[1],l=function(e){e.preventDefault(),"text"===e.target.type&&s(e.target.value),"Enter"!==e.key&&"text"===e.target.type||t.push("/search?q=".concat(i))};return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(u.a,{position:"static",children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(S.b,{to:"/",className:e.inputRoot,children:Object(n.jsx)(d.a,{edge:"start",color:"inherit",children:Object(n.jsx)("img",{src:"/nasa.png",className:"App-logo",alt:"Logo"})})}),Object(n.jsx)(b.a,{className:e.title,variant:"h6",noWrap:!0,children:"NASApp"}),Object(n.jsx)(_,{}),Object(n.jsx)("div",{className:e.search,children:Object(n.jsx)(h.a,{onKeyUp:l,id:"txtSearch",placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})}),Object(n.jsx)(S.b,{to:"#",onClick:l,className:e.inputRoot,children:Object(n.jsx)(d.a,{title:"Search",edge:"end",color:"inherit","aria-label":"search",children:Object(n.jsx)(O.a,{})})})]})})})}var R=a(13),I=a.n(R),A=a(23),L=a(154),P=a(155),E=a(156),B=a(74),D=a.n(B),T=a(76),W=a.n(T),J=a(75),M=a(159),q=a(160),z=Object(p.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function H(e){return Object(n.jsx)(q.a,Object(J.a)({elevation:6,variant:"filled"},e))}function G(e){var t=z(),a=Object(c.useState)(!1),r=Object(o.a)(a,2),i=r[0],s=r[1],l=function(e,t){"clickaway"!==t&&s(!1)};return Object(c.useEffect)((function(){e.message?s(!0):s(!1)}),[e.message]),Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(M.a,{open:i,autoHideDuration:4e3,onClose:l,children:Object(n.jsx)(H,{onClose:l,severity:e.severity,children:e.message})})})}var U=a(24),K=a.n(U),Y=Object(p.a)((function(e){return{root:{"& .MuiPaper-root":{backgroundColor:"#2a4251 !important",boxShadow:"5px 5px 5px 0px rgba(0,0,0,0.75)"}},full_image:{width:340,height:322,color:"white",float:"left",margin:12,borderRadius:10},like:{position:"relative",float:"left",top:25,left:3,width:40,height:40,boxShadow:"5px 5px 5px 0px rgba(0,0,0,0.75)"},media:{width:340,height:"calc(100% - 96px)",backgroundSize:"100% 100%"},full_media:{width:"100%",height:426,backgroundSize:"100% 100%"},header:{height:64,margin:0,maxHeight:64,overflowY:"auto",textJustify:"inter-word",wordBreak:"break-word",textAlign:"center",paddingTop:16,paddingBottom:16,marginLeft:1,marginRight:1},full_player:{maxWidth:640,color:"white",margin:12},full_text:{color:"white",float:"left",textAlign:"justify",textJustify:"inter-word",wordBreak:"break-word",margin:20,fontSize:"20px"},back:{color:"white",display:"block",textAlign:"center",marginBottom:2}}}));function Q(e){var t=Y(),a=Object(c.useState)({message:"",severity:""}),r=Object(o.a)(a,2),i=r[0],s=r[1],l=Object(c.useState)(!1),u=Object(o.a)(l,2),j=u[0],b=u[1],h=Object(c.useState)(!1),p=Object(o.a)(h,2),f=p[0],x=p[1],O=Object(y.g)(),g="/"===O.pathname,m="/favorites"===O.pathname,v=O.pathname.includes("/favorite/"),w="success",N="Selected data has been saved successfully!",_="Selected data has been removed successfully!",C=function(){var e=Object(A.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.post("/api/image",t);case 2:s({message:N,severity:w});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(A.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.delete("/api/image/".concat(t));case 2:s({message:_,severity:w});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[!j&&Object(n.jsx)("div",{className:t.root,children:Object(n.jsxs)(L.a,{className:g||v?t.full_player:t.full_image,children:[!g&&!f&&Object(n.jsx)(d.a,{className:t.like,style:{color:v||m?"#7fd268":"white"},onClick:function(t){v||m?(F(e.data._id),b(!0)):(C({title:e.data.title,url:e.data.url,explanation:e.data.explanation?e.data.explanation:""}),x(!0))},title:"Favorite",children:Object(n.jsx)(k.a,{})}),Object(n.jsx)(P.a,{titleTypographyProps:{variant:g||v?"h5":"h6"},className:t.header,title:e.data.title}),"video"===e.data.media_type?Object(n.jsx)(D.a,{url:e.data.url}):Object(n.jsx)(S.b,{onClick:function(e){m||e.preventDefault()},to:e.data._id?"/favorite/".concat(e.data._id):"#",children:Object(n.jsx)(E.a,{style:{cursor:m?"pointer":"default"},className:g||v?t.full_media:t.media,image:e.data.url,alt:"img"})}),Object(n.jsx)("div",{className:t.full_text,children:e.data.explanation}),v&&Object(n.jsx)(S.b,{to:"/favorites",className:t.back,children:Object(n.jsx)(d.a,{title:"Back to favorites",color:"inherit","aria-label":"back",children:Object(n.jsx)(W.a,{})})})]})}),Object(n.jsx)(G,{message:i.message,severity:i.severity})]})}var V=a(158),X=a(157),Z=Object(p.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}}));function $(){var e=Z();return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(X.a,{color:"secondary"})})}function ee(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(!0),s=Object(o.a)(i,2),l=s[0],u=s[1],j=function(){var e=Object(A.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("/api/APOD");case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Failed connecting to the server.");case 10:u(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){j()}),[]),Object(n.jsx)(V.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:l?Object(n.jsx)($,{}):0===a.length?Object(n.jsx)("h2",{children:"No results found!"}):Object(n.jsx)(Q,{data:a},"1")})}function te(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(!0),s=Object(o.a)(i,2),l=s[0],u=s[1],j=function(){var e=Object(A.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("/api/images");case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Failed connecting to the server.");case 10:u(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){j()}),[]),Object(n.jsx)(V.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:l?Object(n.jsx)($,{}):0===a.length?Object(n.jsx)("h2",{children:"No results found!"}):a.map((function(e){return Object(n.jsx)(Q,{data:e},e._id)}))})}function ae(e){var t=Object(c.useState)([]),a=Object(o.a)(t,2),r=a[0],i=a[1],s=Object(c.useState)(!0),l=Object(o.a)(s,2),u=l[0],j=l[1],d=function(){var t=Object(A.a)(I.a.mark((function t(){var a,n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.match.params.id,t.next=4,K.a.get("/api/image/".concat(a));case 4:n=t.sent,i(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Failed connecting to the server.");case 11:j(!1);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){d()}),[]),Object(n.jsx)(V.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:u?Object(n.jsx)($,{}):0===r.length?Object(n.jsx)("h2",{children:"No results found!"}):Object(n.jsx)(Q,{data:r},"1")})}function ne(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(!1),s=Object(o.a)(i,2),l=s[0],u=s[1],j=new URLSearchParams(Object(y.g)().search).get("q"),d=function(){var e=Object(A.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=14;break}return u(!0),e.prev=2,e.next=5,K.a.get("https://images-api.nasa.gov/search?q=".concat(j,"&media_type=image"));case 5:t=e.sent,a=t.data.collection.items.map((function(e){var t=e.href.slice("https://images-assets.nasa.gov/image/".length,e.href.length-16);return{url:"https://images-assets.nasa.gov/image/".concat(t,"/").concat(t,"~thumb.jpg"),title:e.data[0].title,explanation:e.data[0].description}})),r(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Failed connecting to the server.");case 13:u(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){d()}),[j]),Object(n.jsx)(V.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:l?Object(n.jsx)($,{}):0===a.length?Object(n.jsx)("h2",{children:"No results found!"}):a.map((function(e){return Object(n.jsx)(Q,{data:e},Math.random())}))})}var ce=function(){return Object(n.jsxs)(S.a,{children:[Object(n.jsx)(F,{}),Object(n.jsx)("div",{className:"App-header",children:Object(n.jsxs)(y.c,{children:[Object(n.jsx)(y.a,{path:"/",exact:!0,render:function(){return Object(n.jsx)(ee,{})}}),Object(n.jsx)(y.a,{path:"/favorites",exact:!0,render:function(){return Object(n.jsx)(te,{})}}),Object(n.jsx)(y.a,{path:"/search",exact:!0,render:function(){return Object(n.jsx)(ne,{})}}),Object(n.jsx)(y.a,{path:"/favorite/:id",exact:!0,render:function(e){var t=e.match;return Object(n.jsx)(ae,{match:t})}}),Object(n.jsx)(y.a,{render:function(){return Object(n.jsx)("h2",{children:"Page not found!"})}})]})})]})},re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,164)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(ce,{})}),document.getElementById("root")),re()},87:function(e,t,a){},88:function(e,t,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.50cfd142.chunk.js.map